<div class="app-container">
  <!-- Header -->
  <header class="app-header">
    <span class="menu-icon" (click)="toggleSidebar($event)">&#9776;</span>
    <input class="search-bar" placeholder="Search" />
    <div class="location">üìç {{ selectedCity?.name || 'Select City' }}</div>
  </header>

  <!-- Sidebar -->
  <aside class="sidebar" [class.open]="sidebarOpen" (click)="$event.stopPropagation()">
    <ng-container *ngFor="let region of regions; let i = index">
      <div class="state" (click)="toggleState(i)">
        <img [src]="region.icon" class="state-icon" />
        {{ region.state }}
        <span class="arrow">{{ expandedStates[i] ? '‚ñ≤' : '‚ñº' }}</span>
      </div>

      <!-- Show cities if state is expanded -->
      <ng-container *ngIf="expandedStates[i]">
        <div
          class="city"
          *ngFor="let city of region.cities"
          (click)="selectCity(city)"
        >
          <img [src]="city.icon" class="city-icon" />
          {{ city.name }}
        </div>
      </ng-container>
    </ng-container>
  </aside>

  <!-- Overlay -->
  <div class="overlay" *ngIf="sidebarOpen" (click)="closeSidebar()"></div>

  <!-- Main Content with dynamic city transport rendering -->
  <main class="content">
    <app-city-transport-selector [city]="selectedCity"></app-city-transport-selector>
  </main>
</div>
