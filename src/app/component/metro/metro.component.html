<div class="metro-wrapper">
  <h3 class="text-center mb-4">ðŸš‡ Metro Route Finder</h3>

  <app-transport-tab-bar
    [activeTab]="activeTab"
    (activeTabChange)="activeTab = $event"
  ></app-transport-tab-bar>

  <!-- Search Destination Tab -->
  <div *ngIf="activeTab === 'search' && stations.length > 0">
    <app-station-input
      [stations]="stations"
      [start]="startStation"
      [end]="endStation"
      (startChange)="startStation = $event"
      (endChange)="endStation = $event"
    ></app-station-input>

    <button class="btn find-btn" (click)="onFindRoute()">Find Route</button>

    <div *ngIf="routeDetails">
      <h5 class="route-title">ðŸ§­ Route Options</h5>
      <div class="route-card">
        <pre class="m-0">{{ routeDetails }}</pre>
      </div>
    </div>
  </div>

  <!-- By Station Tab -->
  <div *ngIf="activeTab === 'station'">
    <!-- <p class="text-muted text-center">We're working on station-wise browsing.</p> -->
      <app-by-station></app-by-station>
  </div>

  <!-- Fare Tab -->
  <div *ngIf="activeTab === 'help'">
    <p class="text-muted text-center">Fare calculation coming soon.</p>
  </div>

  <!-- Unsupported city message -->
  <div *ngIf="stations.length === 0">
    <p class="text-muted text-center">
      We're working on metro support for {{ selectedCity | titlecase }}.
    </p>
  </div>
</div>
